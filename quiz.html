
<html>
  <head>
    <title>Quiz with one player</title>

  </head>
  <style>
    .optionDiv{
      float:left;
      margin-left:40px;

    }
    .questionDiv{
      width:400px;
      margin-left:20%;

    }
  </style>
  <body>

      <div id="container" class='questionDiv'>

      </div>

      <div class='optionDiv' id="option1"></div>
      <div class='optionDiv' id="option2"></div>
      <div class='optionDiv' id="option3"></div>
      <div class='optionDiv' id="option4"></div>





    <script src="https://cdn.socket.io/socket.io-1.2.0.js"></script>
    <script src="http://code.jquery.com/jquery-1.11.1.js"></script>
    <script>
        var socket = io();
        var question,correct=0,incorrect=0;


        socket.on('new question',function(ques){
            question = JSON.parse(ques);


           quesContainer = $('#container');

          quesContainer.append('<p class="remove">'+question.text+'</p>');
          var count=1;
          for(var i of question.options)
          {

             option = 'option'+count;

            $('#'+option).append('<p class="remove"><button onclick="sendAnswer(this)" value="'+i+'">'+i+'</button></p>');
            count++;
          }


        });
        function sendAnswer(button){
           if(button.value===question.correct){
                  correct++;

           }
           else
             incorrect++;
          $('.remove').remove();

          if(question.id+1==3){
            alert('End of quiz. Thanks for playing. Your score is '+ correct+ ' out of '+(correct+incorrect) );
            question.id -= 2;
            correct=incorrect=0;
          }
           socket.emit('give new question',question.id+1);
           console.log('Requested new question');
        }

    </script>
  </body>
</html>
